<!DOCTYPE html>
<html class="o-hoverable-on o-hoverable-on">
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
	<title>o-contextual-help: demo demo</title>
	<meta name="viewport" content="initial-scale=1.0, width=device-width" />
	<script src="//polyfill.webservices.ft.com/v1/polyfill.min.js?features=default"></script>
	<style>body { margin: 0; } .demo-js .o--if-nojs { display: none; }</style>
	<script>(function(d) { d.className = d.className + ' demo-js'; })(document.documentElement);</script>
	<link rel="stylesheet" href="/bundles/css?modules=o-contextual-help:/demos/src/demo.scss" />
</head>
<body>
<p> Check the page source for a demonstration of using the config for adding help items </p>

<script type="application/json" data-o-contextual-help-config>
  {
    "helpTopics": [
      "console/student/freetrial",
      "console/student/studentresources",
      "console/student/contactsupport"
    ]
  }
</script>
<script>
  var testContent = {
    title: 'Test Accordion',
    excerpt: 'A test of the accordion for content.',
    content: '	<div class="demo-panel">		<div class="demo-panel-heading">			<h5 data-toggle="o-collapse"				data-target="#item-1"				data-parent="#accordion">Item 1</h5>		</div>		<div class="demo-panel-body">			<p id="item-1" class="o-collapse">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>		</div>	</div>	<div class="demo-panel">		<div class="demo-panel-heading">			<h5 data-toggle="o-collapse"				data-target="#item-2"				data-parent="#accordion">Item 2</h5>		</div>		<div class="demo-panel-body">			<p id="item-2" class="o-collapse">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>		</div>	</div>	<div class="demo-panel">		<div class="demo-panel-heading">			<h5 data-toggle="o-collapse"				data-target="#item-3"				data-parent="#accordion">Item 3</h5>		</div>		<div class="demo-panel-body">			<p id="item-3" class="o-collapse">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>		</div>	</div>	<div class="demo-panel">		<div class="demo-panel-heading">			<h5 data-toggle="o-collapse"				data-target="#item-4"				data-parent="#accordion">Item 4</h5>		</div>		<div class="demo-panel-body">			<p id="item-4" class="o-collapse">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod			tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,			quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo			consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse			cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non			proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>		</div>	</div>'
  };
  function getAndConsoleLogHelp(){
    var help = document.getElementById('o-contextual-help-drawer').oContextualHelp;
    console.log(help);
  }

  function openSpecificArticle(topic){
    var help = document.getElementById('o-contextual-help-drawer').oContextualHelp;
    help.openHelpTopic(topic);
  }

  function issueHelpClickFromHeader(){
    var el = document.querySelector('.o-app-header');
    // now make it emit and oAppHeader.help.toggle
    if(document.createEvent && el.dispatchEvent){
      var evt = document.createEvent('Event');
      evt.initEvent('oAppHeader.help.toggle', true, true)
      el.dispatchEvent(evt);
    }
  }

  function openThenAddATopicsAfterTime(topics, delay){
    var help = document.getElementById('o-contextual-help-drawer').oContextualHelp;
    help.open();
    setTimeout(function(){
      help.addTopics(topics)
    }, delay);
  }

  function openThenRemoveTopics(topics, delay){
    var help = document.getElementById('o-contextual-help-drawer').oContextualHelp;
    help.open();
    setTimeout(function(){
      help.removeTopics(topics)
    }, delay);
  }

  function openThenRemoveAll(){
    var help = document.getElementById('o-contextual-help-drawer').oContextualHelp;
    help.open();
    setTimeout(function(){
      help.removeAllTopics()
    }, 500);
  }

  function openAndRandomSort(){
    if(window.loop){
      clearInterval(window.loop);
    }
    var help = document.getElementById('o-contextual-help-drawer').oContextualHelp;
    help.open();
    function rndSort(){
      var ts = help.getTopics();
      ts.sort(function(){
        return Math.floor(Math.random()*3) - 1;
      });
      help.removeAllTopics();
      help.addTopics(ts);
    }
    setTimeout(function(){
      window.loop = setInterval(rndSort, 300);
    }, 500);
    setTimeout(function(){
      clearInterval(window.loop);
    }, 5500);
  }

  function testAccordion(){
    var help = document.getElementById('o-contextual-help-drawer').oContextualHelp;
    help.cache.accordion = testContent;
    help.openHelpTopic('accordion');
  }
</script>

<header class="o-app-header"></header>

<a href="#o-contextual-help-drawer" data-toggle="o-drawer">Toggle Help Drawer (direct)</a>
<br/>
<a href="#" onclick="issueHelpClickFromHeader()">Trigger Help via Header Menu Item Click (simulated here)</a>
<br/>
<a  href="#o-contextual-help-drawer" data-open="o-drawer">Open via Drawer</a>


<br/><br/>

<a href="#" onclick="getAndConsoleLogHelp()">console.log() the Help object</a>
<br/>
<a href="#" onclick="openSpecificArticle('console/student/droppedcourse')">Open Specific Article (Dropped Course)</a>

<br/><br/>

<a href="#" onclick="openThenAddATopicsAfterTime('console/instructor/courseregsettings', 1000)">Open, then add item after 1s (adds 'console/instructor/courseregsettings')</a>
<br/>
<a href="#" onclick="openThenAddATopicsAfterTime(['console/instructor/educatorresources', 'console/instructor/validatedinstructor'], 500)">Open, add multiple items after 500ms (adds 'console/instructor/educatorresources', 'console/instructor/validatedinstructor')</a>
<br/>
<a href="#" onclick="openThenRemoveTopics(['console/instructor/educatorresources', 'console/instructor/validatedinstructor'], 500)">Open, remove multiple items after 500ms (removes 'console/instructor/educatorresources', 'console/instructor/validatedinstructor')</a>
<br/>
<a href="#" onclick="openThenRemoveAll()">Open, then remove all topics.</a>

<br/><br/>

<a href="#" onclick="openAndRandomSort()">Open, then sort topics randomly for 5 seconds</a>

<br/><br/>

<a href="#" onclick="testAccordion()">Test Accordion Content</a>

<script src="/bundles/js?modules=o-contextual-help:/demos/src/demo.js"></script>
<script src="https://origami.pearsoned.com/registry/embedapi?autoload=resize"></script>
</body>
</html>
